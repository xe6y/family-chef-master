<view class="home-container">
  <!-- é¡¶éƒ¨ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
  <view class="user-section">
    <view class="user-info">
      <image class="user-avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
      <view class="user-text">
        <text class="greeting">{{greeting}}</text>
        <text class="user-name">{{userInfo.nickName || 'äº²çˆ±çš„ç”¨æˆ·'}}</text>
      </view>
    </view>
    <view class="user-actions">
      <button class="notification-btn" bindtap="showNotifications">
        <image src="/images/icons/notification.png"></image>
        <view class="notification-badge" wx:if="{{unreadCount > 0}}">{{unreadCount}}</view>
      </button>
    </view>
  </view>

  <!-- å¿«æ·åŠŸèƒ½åŒºåŸŸ -->
  <view class="section">
    <view class="section-header">
      <view class="header-content">
        <text class="section-title">å¿«æ·åŠŸèƒ½</text>
        <text class="section-subtitle">å¿«é€Ÿå¼€å§‹ä½ çš„ç¾é£Ÿä¹‹æ—…</text>
      </view>
    </view>
    <view class="quick-actions">
      <button class="action-card" bindtap="navigateTo" data-url="/pages/order/create/create">
        <view class="action-icon">ğŸ½ï¸</view>
        <text class="action-text">æˆ‘è¦ç‚¹é¤</text>
        <text class="action-desc">å¿«é€Ÿä¸‹å•</text>
      </button>
      <button class="action-card" bindtap="navigateTo" data-url="/pages/recipe/create/create">
        <view class="action-icon">ğŸ‘¨â€ğŸ³</view>
        <text class="action-text">æˆ‘è¦åšèœ</text>
        <text class="action-desc">åˆ†äº«èœè°±</text>
      </button>
      <button class="action-card" bindtap="navigateTo" data-url="/pages/ingredients/list/list">
        <view class="action-icon">ğŸ›’</view>
        <text class="action-text">é£Ÿæç®¡ç†</text>
        <text class="action-desc">æŸ¥çœ‹åº“å­˜</text>
      </button>
      <button class="action-card" bindtap="navigateTo" data-url="/pages/family/manage/manage">
        <view class="action-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</view>
        <text class="action-text">å®¶åº­ç®¡ç†</text>
        <text class="action-desc">ç®¡ç†æˆå‘˜</text>
      </button>
    </view>
  </view>

  <!-- ä»Šæ—¥èœå•åŒºåŸŸ -->
  <view class="section">
    <view class="section-header">
      <view class="header-content">
        <text class="section-title">ä»Šæ—¥èœå•</text>
        <text class="section-subtitle">ä¸ºå®¶äººå‡†å¤‡çš„ç¾å‘³</text>
      </view>
      <button class="more-button" bindtap="navigateTo" data-url="/pages/menu/list/list">
        <text>æŸ¥çœ‹å…¨éƒ¨</text>
        <image class="arrow-icon" src="/images/icons/arrow-right.png"></image>
      </button>
    </view>
    <view class="menu-list">
      <view class="menu-item" wx:for="{{menuList}}" wx:key="id">
        <image src="{{item.image}}" class="menu-image" mode="aspectFill"></image>
        <view class="menu-overlay">
          <view class="menu-info">
            <text class="menu-name">{{item.name}}</text>
            <text class="menu-time">{{item.cookingTime}}åˆ†é’Ÿ</text>
          </view>
          <view class="menu-actions">
            <button class="menu-btn favorite" bindtap="toggleFavorite" data-id="{{item.id}}">
              <image src="{{item.isFavorite ? '/images/icons/favorite-filled.png' : '/images/icons/favorite.png'}}"></image>
            </button>
            <button class="menu-btn primary" bindtap="navigateTo" data-url="/pages/recipe/detail/detail?id={{item.id}}">
              æŸ¥çœ‹è¯¦æƒ…
            </button>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- ä»Šæ—¥æ¨èåŒºåŸŸ -->
  <view class="section">
    <view class="section-header">
      <view class="header-content">
        <text class="section-title">ä»Šæ—¥æ¨è</text>
        <text class="section-subtitle">æ ¹æ®ä½ çš„å–œå¥½æ¨è</text>
      </view>
      <button class="more-button" bindtap="navigateTo" data-url="/pages/recipe/list/list">
        <text>æ›´å¤šæ¨è</text>
        <image class="arrow-icon" src="/images/icons/arrow-right.png"></image>
      </button>
    </view>
    <view class="recommendation-list">
      <view class="recommendation-item" wx:for="{{recommendations}}" wx:key="id" bindtap="navigateTo" data-url="/pages/recipe/detail/detail?id={{item.id}}">
        <image class="recommendation-image" src="{{item.image}}" mode="aspectFill"></image>
        <view class="recommendation-content">
          <text class="recommendation-name">{{item.name}}</text>
          <view class="recommendation-meta">
            <text class="recommendation-chef">{{item.chefName}}</text>
            <view class="recommendation-rating">
              <image src="/images/icons/star-filled.png"></image>
              <text>{{item.rating}}</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘æ´»åŠ¨åŒºåŸŸ -->
  <view class="section">
    <view class="section-header">
      <view class="header-content">
        <text class="section-title">æœ€è¿‘æ´»åŠ¨</text>
        <text class="section-subtitle">å®¶åº­ç¾é£ŸåŠ¨æ€</text>
      </view>
      <button class="more-button" bindtap="navigateTo" data-url="/pages/activity/list/list">
        <text>æŸ¥çœ‹å…¨éƒ¨</text>
        <image class="arrow-icon" src="/images/icons/arrow-right.png"></image>
      </button>
    </view>
    <view class="activity-list">
      <view class="activity-item" wx:for="{{activities}}" wx:key="id" bindtap="goToActivity" data-id="{{item.id}}">
        <image class="activity-avatar" src="{{item.userAvatar}}" mode="aspectFill"></image>
        <view class="activity-content">
          <text class="activity-text">{{item.userName}} {{item.action}}</text>
          <text class="activity-time">{{item.time}}</text>
        </view>
        <image class="activity-image" src="{{item.image}}" mode="aspectFill"></image>
      </view>
    </view>
  </view>

  <!-- å®¶å®´å›å¿†åŒºåŸŸ -->
  <view class="section">
    <view class="section-header">
      <view class="header-content">
        <text class="section-title">å®¶å®´å›å¿†</text>
        <text class="section-subtitle">è®°å½•ç¾å¥½æ—¶å…‰</text>
      </view>
      <button class="more-button" bindtap="navigateTo" data-url="/pages/memory/list/list">
        <text>æ›´å¤š</text>
        <image class="arrow-icon" src="/images/icons/arrow-right.png"></image>
      </button>
    </view>
    <view class="memory-list" wx:if="{{memories.length > 0}}">
      <view class="memory-item" wx:for="{{memories}}" wx:key="id" bindtap="goToMemoryDetail" data-id="{{item.id}}">
        <image class="memory-image" src="{{item.image}}" mode="aspectFill"></image>
        <view class="memory-info">
          <text class="memory-title">{{item.title}}</text>
          <text class="memory-date">{{item.date}}</text>
        </view>
      </view>
    </view>
    <view class="empty-memory" wx:else bindtap="navigateTo" data-url="/pages/memory/create/create">
      <view class="empty-icon">ğŸ“¸</view>
      <text class="empty-text">è®°å½•ç¾å¥½å®¶å®´æ—¶åˆ»</text>
      <text class="empty-subtext">ç‚¹å‡»æ·»åŠ ä½ çš„ç¬¬ä¸€ä¸ªå›å¿†</text>
    </view>
  </view>

  <!-- å¿«é€Ÿç»Ÿè®¡åŒºåŸŸ -->
  <view class="section">
    <view class="section-header">
      <view class="header-content">
        <text class="section-title">æœ¬å‘¨ç»Ÿè®¡</text>
        <text class="section-subtitle">ä½ çš„ç¾é£Ÿæˆå°±</text>
      </view>
    </view>
    <view class="stats-grid">
      <view class="stat-card">
        <text class="stat-value">{{stats.weeklyOrders}}</text>
        <text class="stat-label">æœ¬å‘¨è®¢å•</text>
      </view>
      <view class="stat-card">
        <text class="stat-value">{{stats.weeklyRecipes}}</text>
        <text class="stat-label">åˆ¶ä½œèœè°±</text>
      </view>
      <view class="stat-card">
        <text class="stat-value">{{stats.weeklyTime}}</text>
        <text class="stat-label">çƒ¹é¥ªæ—¶é•¿</text>
      </view>
      <view class="stat-card">
        <text class="stat-value">{{stats.weeklyRating}}</text>
        <text class="stat-label">å¹³å‡è¯„åˆ†</text>
      </view>
    </view>
  </view>
</view>
